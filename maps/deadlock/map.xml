<?xml version="1.0"?>
<map name="Deadlock" version="1.0.3" spec="1.0.2">
    <include src="defaults.xml"/>
    <authors>
        <author uuid="bf3319534f9243ee8abc7544b8234936"/> <!-- ViceWatercolour -->
        <author uuid="ea12aaa8f4fb4a5e9b6676d68f5ba6e9"/> <!-- c360 -->
        <author uuid="a2741a55873a42418e0a5ff795f7731b"/> <!-- QFrog -->
    </authors>
    <teams>
        <team id="pink" color="pink" min="2" max="14">{colors.pink}</team>
        <team id="blue" color="blue" min="2" max="14">{colors.blue}</team>
    </teams>
    <spawns respawn-delay="5s" auto-respawn="false" respawn-freeze="true">
        <spawn team="spectators">
            <regions>
                <point yaw="-90">818.5, 21, 669.5</point>
            </regions>
        </spawn>
        <spawn team="blue" yaw="0" loadout="default">
            <regions>
                <point yaw="0">857.5, 12, 553.5</point>
            </regions>
        </spawn>
        <spawn team="pink" yaw="-180" loadout="default">
            <regions>
                <point yaw="-180">857.5, 12, 785.5</point>
            </regions>
        </spawn>
    </spawns>
    <world>
        <gamerules>
            <doDaylightCycle>true</doDaylightCycle>
        </gamerules>
    </world>
    <regions>
        <subtract id="void-outer"> <!-- All blocks of void minus the mid region -->
            <void/>
            <cuboid min="867,23,627" max="847,0,711"/>
            <cuboid min="841,23,687" max="873,0,651"/>
        </subtract>
        <above id="height-limit" y="23"/>
        <join id="yellow-woolchests">
            <block>905, 9, 593</block>
        </join>
        <join id="cyan-woolchests">
            <block>809, 9, 593</block>
        </join>
        <join id="purple-woolchests">
            <block>905, 9, 745</block>
        </join>
        <join id="red-woolchests">
            <block>809, 9, 745</block>
        </join>
    </regions>
    <loadouts>
        <loadout id="default">
            <effect duration="5s">damage resistance</effect>
            <chestplate material="leather chestplate" team-color="true" unbreaking="true"/>
            <leggings material="leather leggings" team-color="true" unbreaking="true"/>
            <boots material="leather boots" team-color="true" unbreaking="true"/>
            <item slot="0" material="iron sword" unbreaking="true"/>
            <item slot="1" material="bow" unbreaking="true">
                <enchantment>arrow infinite</enchantment>
            </item>
            <item slot="2" material="diamond pickaxe" unbreaking="true">
                <enchantment level="1">dig speed</enchantment>
            </item>
            <item slot="3" material="stone axe" unbreaking="true"/>
            <item slot="4" material="golden carrot" amount="32"/>
            <item slot="5" material="golden apple"/>
            <item slot="7" material="glass" amount="32"/>
            <item slot="8" material="log" amount="48"/>
            <item slot="27" material="arrow" amount="1"/>
        </loadout>
        <loadout id="kill-reward">
            <item material="golden apple"/>
        </loadout>
    </loadouts>
    <kills>
        <rewards>
            <reward loadout="kill-reward"/>
        </rewards>
    </kills>
    <items>
        <remove-drops>
            <any>
                <material>leather chestplate</material>
                <material>leather leggings</material>
                <material>leather boots</material>
                <material>arrow</material>
                <material>iron sword</material>
                <material>bow</material>
                <material>golden carrot</material>
                <material>glass</material>
                <material>log</material>
                <material>arrow</material>
            </any>
        </remove-drops>
    </items>
    <zones>
        <zone modify="never">
            <region>
                <subtract>
                    <cuboid min="845,0,774" max="869,23,787"/>
                    <point>858, 13, 787</point>
                    <point>856, 13, 787</point>
                </subtract>
            </region>
            <message>{errors.spawn-restricted}</message>
        </zone>
        <zone modify="never">
            <region>
                <subtract>
                    <cuboid min="845,0,564" max="869,23,551"/>
                    <point>856, 13, 551</point>
                    <point>858, 13, 551</point>
                </subtract>
            </region>
            <message>{errors.spawn-restricted}</message>
        </zone>
        <!-- blue woolrooms -->
        <zone modify="always">
            <enter>
                <team>pink</team>
            </enter>
            <region>
                <cuboid min="816,3,603" max="808,23,583"/>
                <cuboid min="898,3,583" max="906,23,603"/>
            </region>
            <message>{errors.own-wool-room}</message>
        </zone>
        <!-- pink woolrooms -->
        <zone modify="always">
            <enter>
                <team>blue</team>
            </enter>
            <region>
                <cuboid min="898,3,735" max="906,23,755"/>
                <cuboid min="816,3,755" max="808,20,735"/>
            </region>
            <message>{errors.own-wool-room}</message>
        </zone>
        <zone modify="never" region="void-outer">
            <message>{errors.outside-map}</message>
        </zone>
        <zone modify="never" region="height-limit">
            <message>{errors.height-limit}</message>
        </zone>
    </zones>
    <objectives>
        <wools team="pink" pickup="false">
            <wool color="yellow">
                <source>
                    <region id="yellow-woolchests"/>
                </source>
                <destination>
                    <block>856, 13, 787</block>
                </destination>
            </wool>
            <wool color="cyan">
                <source>
                    <region id="cyan-woolchests"/>
                </source>
                <destination>
                    <block>858, 13, 787</block>
                </destination>
            </wool>
        </wools>
        <wools team="blue">
            <wool color="red">
                <source>
                    <region id="red-woolchests"/>
                </source>
                <destination>
                    <block>856, 13, 551</block>
                </destination>
            </wool>
            <wool color="purple">
                <source>
                    <region id="purple-woolchests"/>
                </source>
                <destination>
                    <block>858, 13, 551</block>
                </destination>
            </wool>
        </wools>
    </objectives>
</map>